<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head th:replace="./fragments/general.fragment :: head"></head>
<body>
<div th:replace="./fragments/general.fragment :: header"></div>
<div class="container">
    <div class="row">
        <div class="col-lg-12">
            
            <div class="col-lg-12">
                <h4>Employee's car details</h4>
                <table class="table table-striped">
                    <tr>
                        <td>Employee</td>
                        <td><span th:text="${employee.firstName}"></span> <span th:text="${employee.lastName}"></span></td>
                    </tr>
                    <tr>
                        <td>License plate</td>
                        <td th:text="${employee.currentOrder.orderedCar.licensePlate}"></td>
                    </tr>
                    <tr>
                        <td>Mileage</td>
                        <td th:text="${employee.currentOrder.orderedCar.mileage}"></td>
                    </tr>
                    <tr>
                        <td>Car Status</td>
                        <td th:text="${employee.currentOrder.orderedCar.carStatus}"></td>
                    </tr>
                    <tr>
                        <td>Car options</td>
                        <td>
                            <span th:each="option : ${employee.currentOrder.orderedCar.carOptions}">
                                <span th:text="${option.description}"></span><br/>
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <td>Date car was received</td>
                        <td th:text="${{employee.currentOrder.dateReceived}}"></td>
                    </tr>
                </table>

                <div class="has-error" th:if="${error != null}">
                    <span class="help-block" th:text="${error}"/>
                </div>

                <div class="btn-group btn-group-justified" role="group" aria-label="...">
                    <div th:if="${employee.currentOrder.orderedCar.carStatus == T(com.realdolmen.rdfleet.domain.CarStatus).PENDING}">
                        <form action="#" th:action="@{/fleet/employees/car/status-in-use}" method="post" >
                            <input type="hidden" th:name="employeeId" th:value="${employee.id}"/>
                            <button type="submit" class="btn btn-info btn-lg">Employee has received the car</button>
                        </form>
                    </div>

                    <form action="#" th:action="@{/fleet/employees/car/move-free-pool}" method="post" >
                        <input type="hidden" th:name="employeeId" th:value="${employee.id}"/>
                        <button type="submit" class="btn btn-danger btn-lg">Move car to free pool</button>
                    </form>

                    <form action="#" th:action="@{/fleet/employees/car/remove}" method="post" >
                        <input type="hidden" th:name="employeeId" th:value="${employee.id}"/>
                        <button type="submit" class="btn btn-danger btn-lg">Remove car from system</button>
                    </form>
                </div>


            </div>


            <div class="col-lg-7">

                <h1 th:text="${employee.currentOrder.orderedCar.selectedCar.make}"></h1>

                <h3 th:text="${employee.currentOrder.orderedCar.selectedCar.model}"></h3>

                <h4>Functional level: <span th:text="${employee.currentOrder.orderedCar.selectedCar.functionalLevel}"></span></h4>

                <br/>
                <table class="table table-striped">
                    <tr>
                        <td><h6>Tyre type:</h6></td>
                        <td th:text="${employee.currentOrder.orderedCar.selectedCar.tyreType}"></td>
                    </tr>
                    <tr>
                        <td><h6>Fuel type:</h6></td>
                        <td th:text="${employee.currentOrder.orderedCar.selectedCar.fuelType}"></td>
                    </tr>
                    <tr>
                        <td><h6>Towing bracket:</h6></td>
                        <td th:text="${employee.currentOrder.orderedCar.selectedCar.towingBracketPossibility}"></td>
                    </tr>
                    <tr>
                        <td><h6>Gps:</h6></td>
                        <td th:text="${employee.currentOrder.orderedCar.selectedCar.gps}"></td>
                    </tr>
                    <tr>
                        <td><h6>Bluetooth:</h6></td>
                        <td th:text="${employee.currentOrder.orderedCar.selectedCar.bluetooth}"></td>
                    </tr>
                    <tr>
                        <td><h6>co2:</h6></td>
                        <td th:text="${employee.currentOrder.orderedCar.selectedCar.co2}"></td>
                    </tr>
                    <tr>
                        <td><h6>Fical hp:</h6></td>
                        <td th:text="${employee.currentOrder.orderedCar.selectedCar.fiscHp}"></td>
                    </tr>
                    <tr>
                        <td><h6>Ideal km:</h6></td>
                        <td th:text="${employee.currentOrder.orderedCar.selectedCar.idealKm}"></td>
                    </tr>
                    <tr>
                        <td><h6>Max km:</h6></td>
                        <td th:text="${employee.currentOrder.orderedCar.selectedCar.maxKm}"></td>
                    </tr>
                </table>
            </div>
            <div class="col-lg-5">
                <div id="info" class="well">
                    <h3 class="modal-header">Additional info</h3>
                    <h4>Price: <span th:text="${employee.currentOrder.orderedCar.selectedCar.listPrice}"></span></h4>
                    <h4>Benefit: <span th:text="${employee.currentOrder.orderedCar.selectedCar.benefit}"></span></h4>
                    <h4>Amount for upgrade: <span th:text="${employee.currentOrder.orderedCar.selectedCar.amountUpgrade}"></span></h4>
                    <h4>Amount for downgrade: <span th:text="${employee.currentOrder.orderedCar.selectedCar.amountDowngrade}"></span></h4>
                    <h4>Time of delivery in days: <span th:text="${employee.currentOrder.orderedCar.selectedCar.timeOfDeliveryInDays.toDays()}"></span></h4>
                </div>
                <div id="packs" class="well"  th:if="${employee.currentOrder.orderedCar.selectedCar.packs.size() > 0}">
                    <h3 class="modal-header">Packs</h3>

                    <div th:each="pack : ${employee.currentOrder.orderedCar.selectedCar.packs}">
                        <h4 th:text="${pack.name}"></h4>

                        <div th:each="item : ${pack.items}">
                            <h6 th:text="${item}"></h6>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div th:replace="fragments/general.fragment :: div.scripts"></div>
</body>
</html>